"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{6273:function(t,e,a){a.r(e),a.d(e,{default:function(){return b}});var r=a(7821),o=a(5744),l=a(3765),s=a(7881),n=a(3516),i=a(2052),c=a(8078),d=a(8504),h=a(3511),p=a(717),u=a(7238),g=a(4311),x=a(9618);let m={starter:"#FF725E",bundle:"#0B7897",membership:"#063C5E"},f={"private-users":"Private Users",schools:"Schools",businesses:"Businesses"},y={"private-users":"#FF9B8A",schools:"#0B7897",businesses:"#052A42"};function b(){let t=(0,d.useRouter)(),e=(0,d.useSearchParams)(),a=e.get("page"),b=e.get("type")||"all",j=e.get("category")||"all",C=Math.max(parseInt(a||"1",10)||1,1),[Z,w]=(0,c.useState)([]),[v,k]=(0,c.useState)(!0),[F,S]=(0,c.useState)({total:0,totalPages:1,page:1}),[E,A]=(0,c.useState)(b),[P,W]=(0,c.useState)(j),[B,U]=(0,c.useState)([]),[R,L]=(0,c.useState)([]),M=(0,c.useCallback)(async(t,e,a)=>{try{k(!0);let r={page:t.toString(),limit:"10"};e&&"all"!==e&&(r.type=e),a&&"all"!==a&&(r.category=a);let o=await x.Z.get("/products",{params:r});w(o.data.products||[]),S({total:o.data.total||0,totalPages:o.data.totalPages||1,page:o.data.page||1})}catch(t){console.error("Error fetching products:",t),w([]),S({total:0,totalPages:1,page:1})}finally{k(!1)}},[]),_=(0,c.useCallback)(async()=>{try{let t=await x.Z.get("/products",{params:{all:!0}}),e=Array.from(new Set(t.data.map(t=>t.type).filter(Boolean))).sort(),a=Array.from(new Set(t.data.map(t=>t.category).filter(Boolean))).sort();U(e),L(a)}catch(t){console.error("Error fetching filters:",t)}},[]);(0,c.useEffect)(()=>{_()},[_]),(0,c.useEffect)(()=>{let t=e.get("type")||"all",a=e.get("category")||"all";A(t),W(a)},[e]),(0,c.useEffect)(()=>{M(C,E,P)},[C,E,P,M]);let z=e=>{A(e);let a=new URLSearchParams;"all"!==e&&a.set("type",e),"all"!==P&&a.set("category",P),a.set("page","1"),t.push("/products?".concat(a.toString()))},D=e=>{W(e);let a=new URLSearchParams;"all"!==E&&a.set("type",E),"all"!==e&&a.set("category",e),a.set("page","1"),t.push("/products?".concat(a.toString()))},I=0===F.total?0:(F.page-1)*10+1,N=0===F.total?0:I+Z.length-1;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.default,{}),(0,r.jsx)(o.Z,{component:"main",sx:{pt:{xs:8,md:10},minHeight:"80vh",backgroundColor:"#E9F4FF"},children:(0,r.jsxs)(l.Z,{maxWidth:"lg",sx:{py:12},"data-aos":"zoom-in","data-aos-duration":"800",children:[(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(s.Z,{variant:"h2",textAlign:"center",sx:{mb:2,fontSize:{xs:"2rem",md:"3rem"},fontWeight:700,color:"#063C5E"},children:"Our Products"}),(0,r.jsx)(s.Z,{variant:"body1",textAlign:"center",color:"text.secondary",sx:{mb:4},children:"Choose the perfect solution for your needs"})]}),B.length>0&&(0,r.jsxs)(o.Z,{sx:{mb:3,display:"flex",flexWrap:"wrap",gap:1.5,justifyContent:"center"},children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{width:"100%",textAlign:"center",mb:1,fontWeight:600,color:"#063C5E"},children:"Filter by Type:"}),(0,r.jsx)(n.Z,{label:"All Types",onClick:()=>z("all"),sx:{backgroundColor:"all"===E?"#0B7897":"white",color:"all"===E?"white":"#052A42",fontWeight:"all"===E?600:400,cursor:"pointer","&:hover":{backgroundColor:"all"===E?"#063C5E":"#E8F4F8"},transition:"all 0.3s ease"}}),B.map(t=>(0,r.jsx)(n.Z,{label:t.charAt(0).toUpperCase()+t.slice(1),onClick:()=>z(t),sx:{backgroundColor:E===t?m[t]||"#0B7897":"white",color:E===t?"white":"#052A42",fontWeight:E===t?600:400,cursor:"pointer","&:hover":{backgroundColor:E===t?m[t]||"#063C5E":"#E8F4F8"},transition:"all 0.3s ease"}},t))]}),R.length>0&&(0,r.jsxs)(o.Z,{sx:{mb:4,display:"flex",flexWrap:"wrap",gap:1.5,justifyContent:"center"},children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{width:"100%",textAlign:"center",mb:1,fontWeight:600,color:"#063C5E"},children:"Filter by Category:"}),(0,r.jsx)(n.Z,{label:"All Categories",onClick:()=>D("all"),sx:{backgroundColor:"all"===P?"#0B7897":"white",color:"all"===P?"white":"#052A42",fontWeight:"all"===P?600:400,cursor:"pointer","&:hover":{backgroundColor:"all"===P?"#063C5E":"#E8F4F8"},transition:"all 0.3s ease"}}),R.map(t=>(0,r.jsx)(n.Z,{label:f[t]||t.charAt(0).toUpperCase()+t.slice(1),onClick:()=>D(t),sx:{backgroundColor:P===t?y[t]||"#0B7897":"white",color:P===t?"white":"#052A42",fontWeight:P===t?600:400,cursor:"pointer","&:hover":{backgroundColor:P===t?y[t]||"#063C5E":"#E8F4F8"},transition:"all 0.3s ease"}},t))]}),v?(0,r.jsx)(o.Z,{textAlign:"center",py:6,children:(0,r.jsx)(s.Z,{variant:"h6",color:"text.secondary",children:"Loading products..."})}):0===Z.length?(0,r.jsx)(o.Z,{textAlign:"center",py:6,children:(0,r.jsx)(s.Z,{variant:"h6",color:"text.secondary",children:"all"!==E||"all"!==P?"No products found matching your filters. Try adjusting your selection.":"No products available right now. Please check back later."})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mb:3},children:["Showing ",I,"–",N," of ",F.total," products",("all"!==E||"all"!==P)&&(0,r.jsxs)(r.Fragment,{children:[" ","all"!==E&&"(".concat(E,")"),"all"!==P&&" - ".concat(f[P]||P)]})]}),(0,r.jsx)(i.ZP,{"data-aos":"zoom-in","data-aos-duration":"800","data-aos-delay":"100",container:!0,spacing:4,sx:{alignItems:"stretch",mb:4},children:Z.map((t,e)=>(0,r.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(u.Z,{product:t,delay:100*e})},t._id))})]}),F.totalPages>1&&(0,r.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,r.jsx)(g.Z,{page:F.page,totalPages:F.totalPages,basePath:"/products".concat("all"!==E||"all"!==P?"?".concat(new URLSearchParams({..."all"!==E&&{type:E},..."all"!==P&&{category:P}}).toString()):"")})})]})}),(0,r.jsx)(p.Z,{})]})}},4311:function(t,e,a){a.d(e,{Z:function(){return n}});var r=a(7821),o=a(693),l=a(5075),s=a(4542);function n(t){let{page:e,totalPages:a,basePath:n="/products"}=t,i=t=>{if(!t||t<1)return n;let[e,a]=n.split("?"),r=new URLSearchParams(a||"");1===t?r.delete("page"):r.set("page",t.toString());let o=r.toString();return o?"".concat(e,"?").concat(o):e};return(0,r.jsx)(o.Z,{count:Math.max(a,1),page:Math.min(Math.max(e,1),Math.max(a,1)),color:"primary",renderItem:t=>(0,r.jsx)(l.Z,{...t,component:s.default,href:i(t.page),shallow:!0})})}},7238:function(t,e,a){a.d(e,{Z:function(){return p}});var r=a(7821),o=a(7902),l=a(4944),s=a(9657),n=a(5744),i=a(3516),c=a(7881),d=a(8600),h=a(4542);function p(t){var e,a,p;let{product:u,delay:g=0}=t,x="/images/placeholders/product-default.svg",m="https://api.konfydence.tecshield.net",f=m.endsWith("/")?m.slice(0,-1):m,y=null!==(p=null===(e=u.imageUrl)||void 0===e?void 0:e.trim())&&void 0!==p?p:"",b=y.startsWith("/images/"),j=!y||b?x:y.startsWith("http")?y:"".concat(f).concat(y.startsWith("/")?y:"/".concat(y));return(0,r.jsxs)(o.Z,{"data-aos":"fade-up","data-aos-duration":"800","data-aos-delay":g,sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",backgroundColor:"white",transition:"all 0.3s ease-in-out",transform:"translateY(0)",cursor:"pointer","&:hover":{transform:"translateY(-12px) scale(1.03)",boxShadow:"0 12px 32px rgba(0,0,0,0.2)"}},children:[(0,r.jsx)(l.Z,{component:"img",height:"220",image:j||x,alt:u.name,sx:{objectFit:"cover",filter:"saturate(1.05)"}}),(0,r.jsxs)(s.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,r.jsx)(n.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",gap:1},children:null===(a=u.badges)||void 0===a?void 0:a.map(t=>(0,r.jsx)(i.Z,{label:t,size:"small",color:"primary",sx:{backgroundColor:"rgba(0,139,139,0.1)"}},t))}),(0,r.jsx)(c.Z,{variant:"h5",component:"h3",gutterBottom:!0,sx:{color:"text.primary"},children:u.name}),(0,r.jsx)(c.Z,{variant:"body2",color:"text.secondary",sx:{mb:3,flexGrow:1},children:u.description}),(0,r.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[(0,r.jsxs)(c.Z,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:["€",u.price]}),(0,r.jsx)(d.Z,{variant:"contained",component:h.default,href:"/products/".concat(u.slug),sx:{backgroundColor:"membership"===u.type?"#063C5E":"bundle"===u.type?"#0B7897":"#FFD700",color:"starter"===u.type?"#063C5E":"white",fontWeight:700,textTransform:"uppercase",borderRadius:2,px:3,py:1,"&:hover":{backgroundColor:"membership"===u.type?"#052A42":"bundle"===u.type?"#095f75":"#FFC700"}},children:"View Details"})]})]})]})}}}]);